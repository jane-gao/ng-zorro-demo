<div *ngIf="showList">
  <div class="mb page-title">
    <h3 class="fl">公告管理</h3>
    <button class="fr m btn-thc" nz-button [routerLink]="'../add'">
      <i class="anticon anticon-plus"></i><span>新增公告</span>
    </button>
  </div>

  <nz-table #nzTable
            [nzData]="announceList.voList"
            [nzLoading]="_loading"
            [nzFrontPagination]="false"
            [nzTotal]="announceList.totalRow"
            [nzPageIndex]="announceList.curPage"
            (nzPageIndexChange)="queryAnnounceList($event)"
            [nzPageSize]="announceList.pageSize">
    <thead nz-thead>
    <tr>
      <th nz-th class="text-center" nzWidth="5%"><span>序号</span></th>
      <th nz-th class="text-center" nzWidth="20%"><span>标题</span></th>
      <th nz-th class="text-center" nzWidth="35%"><span>内容</span></th>
      <th nz-th class="text-center" nzWidth="20%"><span>跳转链接</span></th>
      <th nz-th class="text-center" nzWidth="10%"><span>创建时间</span></th>
      <th nz-th class="text-center" nzWidth="10%"><span>管理</span></th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <ng-template ngFor let-data [ngForOf]="nzTable.data" let-i="index">
      <tr nz-tbody-tr>
        <td nz-td class="text-center">{{i+1}}</td>
        <td nz-td class="text-center">{{data.title}}</td>
        <td nz-td class="text-center">{{data.content}}</td>
        <td nz-td class="text-center"><a [href]="data.url">{{data.url}}</a></td>
        <td nz-td class="text-center">{{data.createTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
        <td nz-td class="text-center">
          <nz-popconfirm [nzPlacement]="'top'" [nzTitle]="pageMsg.announce.delete"
                         (nzOnConfirm)="deleteAnnounce(data.id)">
            <button nz-popconfirm nz-button class="mt-5" title="删除" class="btn-danger">
              <i class="iconfont icon-shanchu"></i>
            </button>
          </nz-popconfirm>
        </td>
      </tr>
    </ng-template>
    </tbody>
  </nz-table>
</div>
