<div class="deliver-order fadeIn">

  <div class="deliver-box pull-right reject-info">
    <dl class="clearfix bb">
      <dt nz-col nzSpan="6">应付金额：</dt>
      <dd nz-col nzSpan="18">
        <span class="font24 ">￥{{data.pay | number}}</span>
      </dd>
    </dl>
    <dl class="clearfix bb">
      <dt nz-col nzSpan="6">会计科目：</dt>
      <dd nz-col nzSpan="18">
        <span class="font24 ">{{data.subjectName}}</span>
      </dd>
    </dl>
    <dl class="clearfix bb">
      <dt nz-col nzSpan="6">付款方：</dt>
      <dd nz-col nzSpan="18">
        <span class="font24 ">{{data.bacctn}}</span>
      </dd>
    </dl>
    <dl class="clearfix bb">
      <dt nz-col nzSpan="6">付款银行：</dt>
      <dd nz-col nzSpan="18">
        <span class="font24 ">{{data.bank}}</span>
      </dd>
    </dl>
    <dl class="clearfix bb">
      <dt nz-col nzSpan="6">付款账户：</dt>
      <dd nz-col nzSpan="18">
        <span class="font24">{{data.bacct}}</span>
      </dd>
    </dl>
    <dl class="bb m0 clearfix item-head p0">
      <dt nz-col nzSpan="6">是否通过：</dt>
      <dd nz-col nzSpan="18">
        <nz-radio-group name="isAllow" style="line-height: 45px" [(ngModel)]="isAgree">
          <label nz-radio [nzValue]="item.key" *ngFor="let item of yesOrNo">{{item.val}}</label>
        </nz-radio-group>
      </dd>
    </dl>
    <ng-container *ngIf="isAgree=='N'">
      <dl class="clearfix bb textArea-row">
        <dt nz-col nzSpan="6">驳回原因：</dt>
        <dd nz-col nzSpan="18">
          <textarea row="6" nz-input style="height: 79px;" [(ngModel)]="reason"></textarea>
        </dd>
      </dl>
    </ng-container>
    <div class="panel-footer text-right mt-15">
      <button nz-button title="放弃操作" class="btn-danger" (click)="closeWin()">放弃操作</button>
      <ng-container *ngIf="isAgree=='Y' && data.state == payRecStateEnum.cr">
        <button nz-button title="等待到账" class="btn-green" (click)="deal(data.id)">等待到账</button>
      </ng-container>
      <ng-container *ngIf="isAgree=='Y' && data.state == payRecStateEnum.deal">
        <button nz-button title="确认到账" class="btn-green" (click)="access(data.id)">确认到账</button>
      </ng-container>
      <ng-container *ngIf="isAgree=='N'">
        <button nz-button title="驳回" class="btn-green" (click)="refuse(data.id)">驳回</button>
      </ng-container>
    </div>
  </div>
  <div style="display: inline-block;">
    <e-ngx-viewer [model]="'image'" [source]="images" [width]="750" [height]="580"></e-ngx-viewer>
  </div>
</div>
