<button nz-button [nzType]="'danger'" [nzShape]="'circle'" class="page-back" (click)="back()" title="返回">
  <i class="anticon anticon-rollback font20"></i>
</button>
<div class="panel-body">
  <div class="body-title thc bg p">
    <span>交易码：{{platRec.tc}}</span>
    <span>流水码：{{platRec.sn}}</span>
  </div>
  <!--企业基本信息 start-->
  <table class="t-items p w100">
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">企业名称：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.epName}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">邮箱：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.contactsEmail}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">负责人：</td>
      <td class="item-bd" nz-col nzSpan="20" [ngClass]="{'font-gray': !platRec?.contactsName}">
        {{platRec?.contactsName || '未填写'}}
      </td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">负责人电话：</td>
      <td class="item-bd" nz-col nzSpan="20" [ngClass]="{'font-gray': !platRec?.contactsPhone}">
        {{platRec?.contactsPhone || '未填写'}}
      </td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">营业执照类型：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.idType | stateName: enums.idType}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">申请时间：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.createTime}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">当前状态：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.state | stateName: enums.enterPriseJoinState}}</td>
    </tr>
    <!--多证合一营业执照-->
    <ng-container *ngIf="platRec?.idType == 'UNITY'">
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">社会信用代码：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.creditCode}}</td>
      </tr>
    </ng-container>
    <!--普通营业执照-->
    <ng-container *ngIf="platRec?.idType == 'NORMAL'">
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">税务登记证号：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.taxRegistrationCertificate}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">税务登记证：</td>
        <td class="item-bd" nz-col nzSpan="20">
          <ng-container *ngIf="platRec?.taxRegistrationCertificateElectronic">
            <div class="tag-dib imgbox text-center mr">
              <a [href]="platRec?.taxRegistrationCertificateElectronic" target="_blank" title="点击看大图">
                <img [src]="platRec?.taxRegistrationCertificateElectronic" class="img"
                     onerror="javascript:this.src='../../../assets/img/dummy.png'">
              </a>
            </div>
          </ng-container>
          <ng-container *ngIf="!platRec?.taxRegistrationCertificateElectronic">
            <span class="font-gray">【未上传】</span>
          </ng-container>
        </td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">组织机构代码：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.organizationCode}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">组织机构代码证：</td>
        <td class="item-bd" nz-col nzSpan="20">
          <ng-container *ngIf="platRec?.taxRegistrationCertificateElectronic">
            <div class="tag-dib imgbox text-center mr">
              <a [href]="platRec?.taxRegistrationCertificateElectronic" target="_blank" title="点击看大图">
                <img [src]="platRec?.organizationCodeElectronic" class="img"
                     onerror="javascript:this.src='../../../assets/img/dummy.png'">
              </a>
            </div>
          </ng-container>
          <ng-container *ngIf="!platRec?.taxRegistrationCertificateElectronic">
            <span class="font-gray">【未上传】</span>
          </ng-container>
        </td>
      </tr>
    </ng-container>
  </table>

  <!--企业法人信息 start-->
  <legend class="legend mb0">企业法人信息</legend>
  <table class="t-items p w100">
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">法人姓名：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.legalPersonName}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">法人身份证号：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.legalPersonIdcard}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">身份证有效期：</td>
      <td class="item-bd" nz-col nzSpan="20">
        <ng-container *ngIf="platRec?.isForever == 'N'">
          {{platRec?.idcardStartTime | date: 'yyyy/MM/dd'}} ~ {{platRec?.idcardEndTime | date: 'yyyy/MM/dd'}}
        </ng-container>
        <ng-container *ngIf="platRec?.isForever == 'Y'|| !platRec?.idcardEndTime">
          {{platRec?.idcardStartTime | date: 'yyyy/MM/dd'}} ~ 长期
        </ng-container>
      </td>
    </tr>
  </table>

  <!--营业执照信息 start-->
  <legend class="legend mb0">营业执照信息</legend>
  <table class="t-items p w100">
    <ng-container *ngIf="platRec?.idType == 'NORMAL'">
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">营业执照注册号：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.businessLicence}}</td>
      </tr>
    </ng-container>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">注册资本：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.businessRegisteredCapital}}万</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">经营范围：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.businessSphere}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">营业执照所在地：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.businessLicenceAreaFullName}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">详细地址：</td>
      <td class="item-bd" nz-col nzSpan="20">{{platRec?.businessLicenceAddress}}</td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">营业执照有效期：</td>
      <td class="item-bd" nz-col nzSpan="20">
        <ng-container *ngIf="platRec?.businessLicenceEnd">
          {{platRec?.businessLicenceStart | date: 'yyyy/MM/dd'}} ~ {{platRec?.businessLicenceEnd | date: 'yyyy/MM/dd'}}
        </ng-container>
        <ng-container *ngIf="!platRec?.businessLicenceEnd">
          {{platRec?.businessLicenceStart | date: 'yyyy/MM/dd'}} ~ 长期
        </ng-container>
      </td>
    </tr>
    <tr class="t-item clearfix">
      <td class="item-hd" nz-col nzSpan="4">营业执照电子版：</td>
      <td class="item-bd" nz-col nzSpan="20">
        <ng-container *ngIf="platRec?.businessLicenceNumberElectronic">
          <div class="tag-dib imgbox text-center mr">
            <a [href]="platRec?.businessLicenceNumberElectronic" target="_blank" title="点击看大图">
              <img height="100%" [src]="platRec?.businessLicenceNumberElectronic" class="img"
                   onerror="javascript:this.src='../../../assets/img/dummy.png'">
            </a>
          </div>
        </ng-container>
        <ng-container *ngIf="!platRec?.businessLicenceNumberElectronic">
          <span class="font-gray">【未上传】</span>
        </ng-container>
      </td>
    </tr>
  </table>

  <!--开户行信息 start-->
  <ng-container *ngIf="platRec.state != 'HALF'">
    <legend class="legend mb0">开户行信息</legend>
    <table class="t-items p w100">
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">银行开户名：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.bankAccountName}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">公司银行账号：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.bankAccountNumber}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">开户行支行名称：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.bankName}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">开户支行联行号：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.bankCode}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">开户银行地址：</td>
        <td class="item-bd" nz-col nzSpan="20">{{platRec?.bankAddress}}</td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">开户银行许可证：</td>
        <td class="item-bd" nz-col nzSpan="20">
          <ng-container *ngIf="platRec?.bankLicenceElectronic">
            <div class="tag-dib imgbox text-center mr">
              <a [href]="platRec?.bankLicenceElectronic" target="_blank" title="点击看大图">
                <img height="100%" [src]="platRec?.bankLicenceElectronic" class="img" [alt]="platRec?.bankLicenceElectronic"
                     onerror="javascript:this.src='../../../assets/img/dummy.png'">
              </a>
            </div>
          </ng-container>
          <ng-container *ngIf="!platRec?.bankLicenceElectronic">
            <span class="font-gray">【未上传】</span>
          </ng-container>
        </td>
      </tr>
      <tr class="t-item clearfix">
        <td class="item-hd" nz-col nzSpan="4">是否为结算账户：</td>
        <td class="item-bd" nz-col nzSpan="20"
            [ngClass]="{'font-success': platRec?.isSettlementAccount=='Y','main-red': platRec?.isSettlementAccount=='N'}">
          {{platRec?.isSettlementAccount | stateName: enums.yesOrNo}}
        </td>
      </tr>
    </table>

    <!--结算账户信息 start-->
    <ng-container *ngIf="platRec?.isSettlementAccount == 'N'">
      <legend class="legend mb0">结算账户信息</legend>
      <table class="t-items p w100">
        <tr class="t-item clearfix">
          <td class="item-hd" nz-col nzSpan="4">银行开户名：</td>
          <td class="item-bd" nz-col nzSpan="20">{{platRec?.settlementBankAccountName}}</td>
        </tr>
        <tr class="t-item clearfix">
          <td class="item-hd" nz-col nzSpan="4">银行账号：</td>
          <td class="item-bd" nz-col nzSpan="20">{{platRec?.settlementBankAccountNumber}}</td>
        </tr>
        <tr class="t-item clearfix">
          <td class="item-hd" nz-col nzSpan="4">开户行支行名称：</td>
          <td class="item-bd" nz-col nzSpan="20">{{platRec?.settlementBankName}}</td>
        </tr>
        <tr class="t-item clearfix">
          <td class="item-hd" nz-col nzSpan="4">开户行支行联行号：</td>
          <td class="item-bd" nz-col nzSpan="20">{{platRec?.settlementBankCode}}</td>
        </tr>
        <tr class="t-item clearfix">
          <td class="item-hd" nz-col nzSpan="4">开户行所在地：</td>
          <td class="item-bd" nz-col nzSpan="20">{{platRec?.settlementBankAddress}}</td>
        </tr>
      </table>
    </ng-container>
  </ng-container>

  <!--审核记录 start-->
  <ng-container *ngIf="epRecords.length > 0">
    <legend class="legend mb0">审核记录</legend>
    <table class="table table-striped b bt0 w100">
      <thead>
      <tr>
        <th class="text-center" nz-col nzSpan="6">时间</th>
        <th class="text-center" nz-col nzSpan="6">审核人</th>
        <th class="text-center" nz-col nzSpan="5">审核结果</th>
        <th class="text-center" nz-col nzSpan="7">审核意见</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of epRecords" class="text-center">
        <td nz-col nzSpan="6">{{item.createTime}}</td>
        <td nz-col nzSpan="6">{{item.optMan}}</td>
        <td nz-col nzSpan="5">{{item.result == 'PASS'? '通过': '不通过'}}</td>
        <td nz-col nzSpan="7">{{item.opinion}}</td>
      </tr>
      </tbody>
    </table>
  </ng-container>
</div>

